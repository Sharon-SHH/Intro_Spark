# Intro_Spark

### Pytest å·¥ä½œæµç¨‹

           ä½ åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ pytest
                       â”‚
                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   æµ‹è¯•å‘ç° (discovery)â”‚
            â”‚ æ‰«æ test_*.py æ–‡ä»¶   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   conftest.py åŠ è½½   â”‚
            â”‚ fixture / é…ç½®ç”Ÿæ•ˆ   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   æµ‹è¯•å‡½æ•°æ”¶é›†          â”‚
            â”‚ e.g. test_load(spark) â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ fixture ä¾èµ–æ³¨å…¥     â”‚
            â”‚ pytest æ‰¾åˆ° spark() â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   è¿è¡Œæµ‹è¯•å‡½æ•°        â”‚
            â”‚ assert è¡¨è¾¾å¼æ£€æŸ¥     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š        â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```bash
pytest -q
```

## ğŸ”‘ æ€»ç»“

- create a folder named "**tests**", inside creating files: conftest.py and test_*.py
- **pytest è‡ªåŠ¨å‘ç°** â†’ æ‰¾åˆ° test æ–‡ä»¶å’Œå‡½æ•°
- **conftest.py è‡ªåŠ¨åŠ è½½** â†’ æä¾›å…±äº«çš„ fixture
- **fixture æ³¨å…¥** â†’ æ ¹æ®å‡½æ•°å‚æ•°åè‡ªåŠ¨åŒ¹é…å¹¶ä¼ å…¥å¯¹è±¡

  - @pytest.fixture(scope="session")
  - `@pytest.fixture` å®šä¹‰ä¸€ä¸ªæµ‹è¯•èµ„æºã€‚

    `scope="session"` â†’ **æ•´ä¸ªæµ‹è¯•ä¼šè¯ä¸­åªåˆ›å»ºä¸€æ¬¡**ï¼Œé€šå¸¸ç”¨äºæ¯”è¾ƒé‡çš„èµ„æº
- **assert ç®€æ´æ£€æŸ¥** â†’ æ— éœ€ unittest é‚£ç§å†—é•¿ API
